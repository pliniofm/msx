10 ONKEYGOSUB390,,400,,410
20 CLEAR200,&HB000:DEFINTA-Z
30 BLOAD"movecara.bin"
40 DEFUSR0=&HB000:DEFUSR1=&HB02E:DEFUSR2=&HB047
50 COLOR15,1:SCREEN1:VPOKE&H2004,&H17:VPOKE766,0
60 FORI=0TO7:READA$:POKE&HE000+I,VAL("&B"+A$):NEXT
70 DATA000000000
80 DATA 00000000
90 DATA00111000
100 DATA00101000
110 DATA00111000
120 DATA00000000
130 DATA00000000
140 DATA00000000
150 KEY(1)ON:KEY(3)ON:KEY(5)ON
160 DR=1:NP=0
170 A1$="_Feira_de_Ciˆncias_":A2$="_Liceu_":A3$="_Obrigado_pela_presen‡a_._"
180 IFNP<=0THENGOSUB260
190 IFIXTHENA=USR1(0)
200 IFIYTHENA=USR0(0)
210 A=USR2(0)
220 NP=NP-1
230 IFTIME>TMTHENGOSUB340
240 FORK=0TOCR-70:NEXT
250 IFCR<150THEN180ELSE400
260 DR=INT(RND(-TIME)*8)+1
270 NP=INT(RND(-TIME)*32)
280 IX=0:IY=0
290 IFDR=1ORDR=2ORDR=8THENPOKE&HB001,0:IY=-1
300 IFDR=4ORDR=5ORDR=6THENPOKE&HB001,1:IY=-1
310 IFDR=2ORDR=3ORDR=4THENPOKE&HB02F,1:IX=-1
320 IFDR=6ORDR=7ORDR=8THENPOKE&HB02F,0:IX=-1
330 RETURN
340 CR=CR+1:TIME=0:TM=INT(RND(1)*25)
350 IFCR>0ANDCR<LEN(A1$)+1THENLOCATE(28-LEN(A1$))\2+CR,12:PRINTMID$(A1$,CR,1):OUT&HAA,255:OUT&HAA,127
360 IFCR>LEN(A1$)ANDCR<LEN(A1$+A2$)+1THENLOCATE(28-LEN(A2$))\2+CR-LEN(A1$),14:PRINTMID$(A2$,CR-LEN(A1$),1):OUT&HAA,255:OUT&HAA,127
370 IFCR>LEN(A1$+A2$)ANDCR<LEN(A1$+A2$+A3$)+1THENLOCATE(28-LEN(A3$))\2+CR-LEN(A1$+A2$),16:PRINTMID$(A3$,CR-LEN(A1$+A2$),1):OUT&HAA,255:OUT&HAA,127
380 RETURN
390 RUN
400 RUN "DIAMANTE.BAS"
410 RUN "MENU.BAS"
