10 ONKEYGOSUB540,,550,,560
20 KEY(1)ON:KEY(3)ON:KEY(5)ON
30 BEEP:A$="001020020100102010010201002001020100100102002010201001"
40 DEFINTA-Z:DIMMP(13,13),ZM(2,3),C(14),F(2,1),X(3):DEFUSR0=&H41:DEFUSR1=&H44
50 FORY=0TO13:FORX=0TO13
60 MP(X,Y)=1:NEXTX,Y
70 FORY=3TO10:FORX=3TO10
80 READMP(X,Y):NEXTX,Y
90 DATA 0,0,0,1,0,0,0,1
100 DATA0,1,1,0,0,1,0,0
110 DATA0,0,1,1,0,0,1,0
120 DATA1,0,0,0,1,1,0,0
130 DATA1,1,0,1,0,0,0,1
140 DATA1,0,0,1,0,1,0,0
150 DATA0,0,1,0,0,0,1,0
160 DATA1,0,0,0,1,0,0,0
170 FORY=0TO3
180 READX(Y):NEXTY
190 DATA 0,32
200 DATA 56
210 DATA 72
220 CS=1:CL=2:CO=3:XX=3:YY=3:DR=1:IX=1:IY=0
230 COLOR 15,1,1:SCREEN2,1:GOSUB570
260 IFB=2THENDR=(DR-1)AND3:GOSUB320
270 IFB=0THENXX=XX+IX:YY=YY+IY
280 IFB=1THENDR=(DR+1)AND3:GOSUB320
285 PUTSPRITE0,(120,168),0,DR
290 GOSUB370:GOSUB400:GOSUB460
295 PUTSPRITE0,(120,168),7,DR
300 B=STICK(0):IFB=1THENB=0ELSEIFB=3THENB=1ELSEIFB=7THENB=2ELSE300
310 GOTO 260
320 ONDR+1GOTO330,350,340,360
330 IX=0:IY=-1:RETURN
340 IX=0:IY=1:RETURN
350 IX=1:IY=0:RETURN
360 IX=-1:IY=0:RETURN
370 IFDR=1ORDR=3THENFORX=0TO2:F(X,0)=XX:NEXT:F(0,1)=YY-1:F(1,1)=YY:F(2,1)=YY+1:IFDR=3THENSWAPF(0,1),F(2,1)
380 IFDR=0ORDR=2THENFORX=0TO2:F(X,1)=YY:NEXT:F(0,0)=XX-1:F(1,0)=XX:F(2,0)=XX+1:IFDR=2THENSWAPF(0,0),F(2,0)
390 RETURN
400 FORY=0TO3:FORX=0TO2
410 ZM(X,Y)=MP(F(X,0),F(X,1))
420 F(X,0)=F(X,0)+IX
430 F(X,1)=F(X,1)+IY
440 NEXTX,Y
450 RETURN
460 CLS:PRINTUSR0(0)
470 FORY=0TO3
480 IFZM(1,Y)<>0THEN520
490 IFZM(0,Y)=0THENLINE(X(Y),X(Y+1))-(X(Y+1),191-X(Y+1)),,BELSELINE(X(Y),X(Y))-(X(Y+1),X(Y+1)):LINE-(X(Y+1),191-X(Y+1)):LINE-(X(Y),191-X(Y))
500 IFZM(2,Y)=0THENLINE(255-X(Y),X(Y+1))-(255-X(Y+1),191-X(Y+1)),,BELSELINE(255-X(Y),X(Y))-(255-X(Y+1),X(Y+1)):LINE-(255-X(Y+1),191-X(Y+1)):LINE-(255-X(Y),191-X(Y))
510 NEXT
520 LINE(X(Y),X(Y))-(255-X(Y),191-X(Y)),,B:PRINTUSR1(0)
530 RETURN
540 RUN
550 RUN "MENU.BAS"
560 RUN "MENU.BAS"
570 FORI=0TO31:READA$:VPOKE&H3800+I,VAL("&B"+A$):NEXT:RETURN
580 DATA 00010000
590 DATA 00111000
600 DATA 01010100
610 DATA 10010010
620 DATA 00010000
630 DATA 00010000
640 DATA 00010000
650 DATA 00000000
660 '
670 DATA 00010000
680 DATA 00100000
690 DATA 01000000
700 DATA 11111110
710 DATA 01000000
720 DATA 00100000
730 DATA 00010000
740 DATA 00000000
750 '
760 DATA 00010000
770 DATA 00010000
780 DATA 00010000
790 DATA 10010010
800 DATA 01010100
810 DATA 00111000
820 DATA 00010000
830 DATA 00000000
840 '
850 DATA 00010000
860 DATA 00001000
870 DATA 00000100
880 DATA 11111110
890 DATA 00000100
900 DATA 00001000
910 DATA 00010000
920 DATA 00000000
